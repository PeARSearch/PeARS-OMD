<!--
SPDX-FileCopyrightText: 2022 PeARS Project, <community@pearsproject.org>, 

SPDX-License-Identifier: AGPL-3.0-only
-->

{% extends "base/base.html" %}
{% from "base/_formhelpers.html" import render_field %}
{% block body %}
  <div class="row">
    <div class="col">
      <div class="alert alert-success text-center">
        <b>{{num_entries}} pages recorded</b>
      </div>
    </div>
  </div>

  <div class="row p-3">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header text-center"><b>Crawl</b></div>
        <div class="card-body">
          <p> Crawl from  a start URL on your network. For now, the crawl will ignore any file that is not in either .txt or .html format.</p>

          <form method="POST" accept-charset="UTF-8" enctype="multipart/form-data"
            action="{{url_for('indexer.from_crawl')}}" autocomplete="off">
            <div class="input-group p-2">
              {{ form.hidden_tag() }}
              <p>{{ render_field(form.url) }}</p>
            </div>
           {% for message in messages %}
            <div class="notification is-danger">
		    <b>{{ message }}</b>
            </div>
           {% endfor %}
        </div>
        <div class="card-footer clearfix">
          <span class="input-group-btn float-end">
            <input id="submit_button" type="submit" class="btn btn-success" value="Start crawl">
          </span>
        </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
